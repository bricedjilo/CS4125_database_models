
<hr class="section-heading-spacer">
<div class="clearfix"></div>
<div>
    <h2 class="section-heading">Queries written for task 6</h2>
    <div class="row">
        <div class="col-lg-6">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group ">
                        <select  size="15" wrap='on' class="form-control" ng-model="selected"
                                 ng-change="getProcessedQuery(selected.qid)" style="overflow: auto; font-size: 1.3em;"
                                 ng-options="query as query.query for query in queries track by query.qid">
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12" ng-repeat="field in fields" >
                    <div ng-if="field.isAdditionalInputNeeded">
                        <div class="input-group">
                            <span class="input-group-addon btn btn-warning" id="sizing-addon3">{{field.label}}</span> 
                            <input type="text" ng-model="item"
                                   placeholder="{{field.placeholder}}" 
                                   uib-typeahead="item for item in getAdditionalInput($viewValue,field)" 

                                   typeahead-loading="loadingCompanies" typeahead-min-length=2
                                   typeahead-no-results="noResults" class="form-control" 
                                   typeahead-on-select="getQueryResults(item,field,$index)">
                        </div>
                        <i ng-show="loadingCompanies" class="glyphicon glyphicon-refresh"></i>
                        <div ng-show="noResults">
                            <i class="glyphicon glyphicon-remove"></i> No Results Found
                        </div>
                    </div><br />
                    <div ng-if="!field.isAdditionalInputNeeded" ng-init="getQueryResults(null,field,null)"> </div>
                </div>
            </div>
            <div>
            </div>
            <br />
        </div>
        <div class="col-lg-6">
            <div class="col-md-12">
                <table class="table table-condensed table-hover">
                    <tbody>
                        <tr ng-repeat="result in results track by $index">
                            <td>{{$index+1}}</td><td ng-repeat="attribute in results[0] track by $index">{{result[$index]}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

